# üì∞ News Bot ‚Äî Telegram –±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ IT-–Ω–æ–≤–æ—Å—Ç–µ–π

![Tests](https://github.com/Golden-boy-jk/News_bot/actions/workflows/ci.yml/badge.svg)
![Coverage](https://img.shields.io/badge/coverage-100%25-brightgreen)
![Python](https://img.shields.io/badge/python-3.11-blue)
![License](https://img.shields.io/badge/license-MIT-green)

News Bot ‚Äî —ç—Ç–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä IT-–Ω–æ–≤–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–π:

- –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ **09:00 –ø–æ –ú–æ—Å–∫–≤–µ** —Å–æ–±–∏—Ä–∞–µ—Ç —Å–≤–µ–∂–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å —Ç–æ–ø-—Ä–µ—Å—É—Ä—Å–æ–≤;
- —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Å—Å—ã–ª–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç–∞—Ç—å–∏ 2025 –≥–æ–¥–∞);
- –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç, –æ—á–∏—â–∞–µ—Ç –µ–≥–æ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç;
- —Ä–∞–Ω–∂–∏—Ä—É–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ –≤–∞–∂–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ **TF-IDF + keyword scoring**;
- —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç–∞—Ç—å–∏ –≤ –ª–æ–∫–∞–ª—å–Ω—É—é SQLite-–±–∞–∑—É;
- –ø—É–±–ª–∏–∫—É–µ—Ç —Ç–æ–ø-–Ω–æ–≤–æ—Å—Ç–∏ –¥–Ω—è –≤ Telegram;
- –ø–æ —Å—É–±–±–æ—Ç–∞–º —Å–æ–±–∏—Ä–∞–µ—Ç –ø–æ–¥–±–æ—Ä–∫—É —Ç—É–ª–∑–æ–≤ üîß;
- –ø–æ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å—è–º —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –Ω–µ–¥–µ–ª—å–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç üì∞.

–ü—Ä–æ–µ–∫—Ç –ø–æ–∫—Ä—ã—Ç **100% —Ç–µ—Å—Ç–æ–≤**, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ GitHub Actions, –∏–º–µ–µ—Ç –ø—Ä–æ–¥–∞–∫—à–µ–Ω-docker-–æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é.

---

# üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –°–±–æ—Ä —Å—Å—ã–ª–æ–∫ —Å OpenAI, Google AI Blog, Databricks, Confluent, Docker Blog, Python.org, TheHackerNews –∏ –¥—Ä.
- –ü–∞—Ä—Å–∏–Ω–≥ HTML —á–µ—Ä–µ–∑ BeautifulSoup —Å –æ—á–∏—Å—Ç–∫–æ–π –æ—Ç –º—É—Å–æ—Ä–∞ (`script`, `style`, `noscript`).
- –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ `<title>`.
- –û—Ü–µ–Ω–∫–∞ –≤–∞–∂–Ω–æ—Å—Ç–∏ —Å—Ç–∞—Ç—å–∏ —á–µ—Ä–µ–∑ TF-IDF + –≤–µ—Å–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤.
- –•—Ä–∞–Ω–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π –≤ SQLite ‚Äî `url`, `title`, `summary`, `content`, `source`, `score`, `fetched_at`.
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Telegram —Å –º—è–≥–∫–∏–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –¥–ª–∏–Ω—ã (4096 —Å–∏–º–≤–æ–ª–æ–≤).
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ stdout + –ø—Ä–æ–¥-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã `/var/log/news_bot` —Å —Ä–æ—Ç–∞—Ü–∏–µ–π.
- Healthcheck –¥–ª—è Docker.
- –ì–æ—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω:
  - –ü–Ω ‚Äî ü§ñ AI  
  - –í—Ç ‚Äî üêç Python  
  - –°—Ä ‚Äî üìä Data Engineering  
  - –ß—Ç ‚Äî üîí Security  
  - –ü—Ç ‚Äî üõ† DevTools  
  - –°–± ‚Äî –ø–æ–¥–±–æ—Ä–∫–∞ —Ç—É–ª–∑–æ–≤  
  - –í—Å ‚Äî –¥–∞–π–¥–∂–µ—Å—Ç –Ω–µ–¥–µ–ª–∏
- –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä NewsProfessor ‚Äî –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ —Å–±–æ—Ä–∞, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.

---

# üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```app/
‚îÇ‚îÄ‚îÄ config.py # –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ .env
‚îÇ‚îÄ‚îÄ db.py # SQLite-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ + –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ‚îÄ‚îÄ error_notifier.py # Telegram-–∞–ª–µ—Ä—Ç –æ–± –æ—à–∏–±–∫–∞—Ö
‚îÇ‚îÄ‚îÄ filters.py # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫ –ø–æ –ø–æ–¥—Å—Ç—Ä–æ–∫–µ
‚îÇ‚îÄ‚îÄ link_extractor.py # HTML ‚Üí —Å—Å—ã–ª–∫–∏
‚îÇ‚îÄ‚îÄ logging_utils.py # –õ–æ–≥–∏ + –ø—Ä–æ–¥-—Ä–æ—Ç–∞—Ü–∏—è
‚îÇ‚îÄ‚îÄ main.py # –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫
‚îÇ‚îÄ‚îÄ news_professor.py # –ì–ª–∞–≤–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ‚îÄ‚îÄ scheduler_main.py # APScheduler (–∑–∞–ø—É—Å–∫ –≤ 09:00)
‚îÇ‚îÄ‚îÄ scoring.py # TF-IDF + keyword scoring
‚îÇ‚îÄ‚îÄ telegram_bot.py # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/–æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
‚îÇ‚îÄ‚îÄ text_parser.py # HTML ‚Üí —á–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç
‚îÇ‚îÄ‚îÄ text_utils.py # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã —Ç–µ–∫—Å—Ç–∞ (Telegram 4096)
tests/
‚îÇ‚îÄ‚îÄ test_*.py # –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ (100%)
docker-compose.yml # Dev-—Ä–µ–∂–∏–º
docker-compose.production.yml # –ü—Ä–æ–¥–∞–∫—à–µ–Ω
Dockerfile
README.md
```

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/Golden-boy-jk/News_bot.git
cd News_bot
pip install -r requirements.txt
```

üß™ –¢–µ—Å—Ç—ã

–ü—Ä–æ–µ–∫—Ç –ø–æ–∫—Ä—ã—Ç 100% —Ç–µ—Å—Ç–æ–≤.

```–ó–∞–ø—É—Å–∫: pytest```

–ü–æ–∫—Ä—ã—Ç–∏–µ:

```pytest --cov=app --cov-report=term-missing:skip-covered```

üõ† –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ (–±–µ–∑ Docker)

```pip install -r requirements.txt```

```echo > news.db```

```python -m app.scheduler_main```


–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –±—É–¥–µ—Ç –∂–¥–∞—Ç—å 09:00 –ø–æ Europe/Moscow.

üê≥ Docker (Dev)

``docker compose up --build
``

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç .env –∏ –ª–æ–∫–∞–ª—å–Ω—É—é news.db.


ü©∫ Healthcheck

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π self-check:
- ``` test: ["CMD", "python", "-m", "app.healthcheck"] ```

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:

- –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å .env
- –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ë–î
- –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏
- –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- 
```–°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å: healthy.```

üß± Docker (Production)

```mkdir -p data logs```
```touch data/news.db```

–°–æ–∑–¥–∞—Ç—å .env.prod:
```TELEGRAM_BOT_TOKEN=...
TELEGRAM_CHAT_ID=...
TELEGRAM_ERROR_CHAT_ID=...
DATABASE_PATH=/app/news.db
```
–ó–∞–ø—É—Å–∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

```docker compose -f docker-compose.production.yml up -d --build```

–ü—Ä–æ–≤–µ—Ä–∫–∞:

```docker ps```

```docker logs news-bot --tail 50```

–û–∂–∏–¥–∞–µ–º—ã–π –ª–æ–≥:

–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤ 09:00 (Europe/Moscow).

–õ–æ–≥–∏

–ù–∞ —Ö–æ—Å—Ç–µ:

```logs/app.log``` 

```logs/error.log```

üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∑–∞–ø—É—Å–∫–∞ (–∫—Ä–∞—Ç–∫–æ)

1. Scheduler –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ 09:00.
2. –í—ã–±–∏—Ä–∞–µ—Ç –Ω–∞–±–æ—Ä —Å–∞–π—Ç–æ–≤ –ø–æ –¥–Ω—é –Ω–µ–¥–µ–ª–∏.

3. –°–æ–±–∏—Ä–∞–µ—Ç —Å—Å—ã–ª–∫–∏.

4. –ü–∞—Ä—Å–∏—Ç HTML ‚Üí —Ç–µ–∫—Å—Ç.

5. –ì–æ—Ç–æ–≤–∏—Ç title + summary.

6. –°—á–∏—Ç–∞–µ—Ç—Å—è TF-IDF score.

7. –°—Ç–∞—Ç—å–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ SQLite.

8. –ü—É–±–ª–∏–∫—É–µ—Ç—Å—è —Ç–æ–ø-5.

9. –í —Å—É–±–±–æ—Ç—É ‚Äî –ø–æ–¥–±–æ—Ä–∫–∞ —Ç—É–ª–∑–æ–≤.

10. –í –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ ‚Äî –¥–∞–π–¥–∂–µ—Å—Ç –Ω–µ–¥–µ–ª–∏.

üó∫ –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞

- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π, –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –æ—à–∏–±–∫–∏).
- Retry + –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤.
- –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (–ø–æ –¥–∞—Ç–µ, –¥–ª–∏–Ω–µ —Ç–µ–∫—Å—Ç–∞, —è–∑—ã–∫—É).
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ RSS/JSON API.
- LLM-–º–æ–¥—É–ª–∏ –¥–ª—è summary/—Ç–µ–≥–æ–≤.
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ—Å—Ç–µ–π.

üìù –õ–∏—Ü–µ–Ω–∑–∏—è
MIT ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π —Å–≤–æ–±–æ–¥–Ω–æ.

‚≠ê –ü–æ–¥–¥–µ—Ä–∂–∏ –ø—Ä–æ–µ–∫—Ç

–ï—Å–ª–∏ –±–æ—Ç –æ–∫–∞–∑–∞–ª—Å—è –ø–æ–ª–µ–∑–Ω—ã–º ‚Äî –ø–æ—Å—Ç–∞–≤—å ‚≠ê –Ω–∞ GitHub. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç—É —Ä–∞—Å—Ç–∏ üôå
